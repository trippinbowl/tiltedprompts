# Lead Capture Automation â€“ Setup Guide

## Overview

Capture leads via a Google Form, log them to a Google Sheet, and automatically send the free lead magnet (10 AI prompts) via email.

## Option A: Google Form + Sheet + Backend API (Recommended)

### 1. Create Google Form

Create a simple Google Form with these fields:
- **Email** (required) â€” Short answer, email validation
- **Name** (optional) â€” Short answer
- **What's your business niche?** (optional) â€” Short answer or dropdown:
  - D2C / E-commerce
  - Services / Consulting
  - Restaurant / Food
  - Education / Coaching
  - Other

### 2. Link to Google Sheet

- In the Form editor, click **Responses** â†’ **Link to Sheets**
- This creates a live Google Sheet with form submissions

### 3. Set Up Auto-Email via Apps Script

In the linked Google Sheet:
1. Click **Extensions** â†’ **Apps Script**
2. Paste this code:

```javascript
function onFormSubmit(e) {
  var responses = e.values;
  var email = responses[1]; // Adjust index based on your form
  var name = responses[2] || "there";
  var niche = responses[3] || "";

  // Call your backend to send the lead magnet email
  var payload = {
    email: email,
    name: name,
    niche: niche
  };

  var options = {
    method: "post",
    contentType: "application/json",
    payload: JSON.stringify(payload)
  };

  try {
    // Replace with your Replit URL when deployed
    UrlFetchApp.fetch("http://YOUR_BACKEND_URL/lead-capture", options);
  } catch (err) {
    Logger.log("Error: " + err);
  }
}
```

3. Click **Triggers** (clock icon) â†’ **Add Trigger**:
   - Function: `onFormSubmit`
   - Event source: From spreadsheet
   - Event type: On form submit
4. Authorize the script when prompted

### 4. Test

Submit a test response to your form. Check:
- âœ… Row appears in Google Sheet
- âœ… Backend receives the POST to `/lead-capture`
- âœ… Email is sent (once Gmail SMTP is configured in `.env`)

## Option B: Simple HTML Form (Self-hosted)

If you prefer a landing page form:

```html
<form id="leadForm">
  <input type="email" name="email" placeholder="Your email" required>
  <input type="text" name="name" placeholder="Your name">
  <select name="niche">
    <option value="">What's your business?</option>
    <option value="ecommerce">D2C / E-commerce</option>
    <option value="services">Services / Consulting</option>
    <option value="food">Restaurant / Food</option>
    <option value="education">Education / Coaching</option>
    <option value="other">Other</option>
  </select>
  <button type="submit">Get Free AI Prompts â†’</button>
</form>

<script>
document.getElementById("leadForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target));
  const resp = await fetch("YOUR_BACKEND_URL/lead-capture", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify(data)
  });
  if (resp.ok) {
    alert("Check your email for your free prompts! ðŸŽ‰");
  }
});
</script>
```

## Lead Magnet Content

The free "10 AI Prompts for Indian SMBs" bundle is generated by your bundle generator. Run:

```bash
curl -X POST http://localhost:5000/generate \
  -H "Content-Type: application/json" \
  -d '{"niche":"Indian SMB marketing","bundle_type":"mixed","count":10,"extra_notes":"This is a free lead magnet. Make prompts extremely practical and impressive to encourage upgrading to paid packs."}'
```

Upload the generated `bundle.md` to Gumroad as a free product ($0) to get a download link for the email.
